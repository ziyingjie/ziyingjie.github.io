<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.2 -->
    <script>
        window.materialVersion = "1.5.2"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">














    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
        落花人独立
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.ico">
    <link rel="icon" href="/img/favicon.ico">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="hello,every body!~">
    <meta name="keywords" content="">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="落花人独立">
    <meta name="msapplication-starturl" content="http://yoursite.com/2018/05/08/函数的四种调用方式/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="落花人独立">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/favicon.ico">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com/2018/05/08/函数的四种调用方式/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="落花人独立">
    <meta property="og:image" content="/img/favicon.ico">
    <meta property="og:description" content="hello,every body!~">
    

    
        <meta property="article:published_time" content="Tue May 08 2018 15:34:33 GMT+0800">
        <meta property="article:modified_time" content="Tue May 08 2018 15:35:04 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2018/05/08/函数的四种调用方式/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://yoursite.com/2018/05/08/函数的四种调用方式/index.html",
    "headline": "",
    "datePublished": "Tue May 08 2018 15:34:33 GMT+0800",
    "dateModified": "Tue May 08 2018 15:35:04 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "ziying",
        "image": {
            "@type": "ImageObject",
            "url": "/img/avatar.png"
        },
        "description": "你好，2018"
    },
    "publisher": {
        "@type": "Organization",
        "name": "落花人独立",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/favicon.ico"
        }
    },
    "keywords": "",
    "description": "hello,every body!~",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-函数调用-模式"><span class="post-toc-number">1.</span> <span class="post-toc-text">1. 函数调用 模式</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-方法调用-模式-method"><span class="post-toc-number">2.</span> <span class="post-toc-text">2. 方法调用 模式 method</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#美团的一道面试题"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">美团的一道面试题</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-构造器模式-构造函数模式-构造方法模式"><span class="post-toc-number">3.</span> <span class="post-toc-text">3. 构造器模式(构造函数模式, 构造方法模式)</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#构造函数结合性"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">构造函数结合性</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#面试题"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">面试题</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-上下文调用模式"><span class="post-toc-number">4.</span> <span class="post-toc-text">4. 上下文调用模式</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#apply方法的调用形式"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">apply方法的调用形式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#方法借用的案例"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">方法借用的案例</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#call-调用"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">call 调用</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#借用构造方法实现继承"><span class="post-toc-number">4.4.</span> <span class="post-toc-text">借用构造方法实现继承</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#补充知识-1-函数的-bind-方法-（-ES5-）"><span class="post-toc-number">5.</span> <span class="post-toc-text">补充知识 1. 函数的 bind 方法 （ ES5 ）</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#补充知识-2-Object-prototype-的成员"><span class="post-toc-number">6.</span> <span class="post-toc-text">补充知识 2. Object.prototype 的成员</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#补充知识-3-包装类型"><span class="post-toc-number">7.</span> <span class="post-toc-text">补充知识 3. 包装类型</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#补充知识-4-getter-和-setter-的语法糖-ES5"><span class="post-toc-number">8.</span> <span class="post-toc-text">补充知识 4. getter 和 setter 的语法糖 ( ES5 )</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#补充知识-5-ES5-中引入的部分数组方法"><span class="post-toc-number">9.</span> <span class="post-toc-text">补充知识 5. ES5 中引入的部分数组方法</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>ziying</strong>
        <span>5月 08, 2018</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=&url=http://yoursite.com/2018/05/08/函数的四种调用方式/index.html&pic=http://yoursite.com/img/favicon.ico&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=&url=http://yoursite.com/2018/05/08/函数的四种调用方式/index.html&via=ziying" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2018/05/08/函数的四种调用方式/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://yoursite.com/2018/05/08/函数的四种调用方式/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>#函数的四种调用方式</p>
<p>函数有下列调用模式</p>
<ol>
<li>函数调用模式</li>
<li>方法调用模式</li>
<li>构造器模式</li>
<li>上下文模式</li>
</ol>
<h2 id="1-函数调用-模式"><a href="#1-函数调用-模式" class="headerlink" title="1. 函数调用 模式"></a>1. 函数调用 模式</h2><p>要调用，就肯定要先定义，函数的定义方式：</p>
<ol>
<li>声明式:      function fuc() {}</li>
<li>表达式式:     var func = function() {};</li>
<li>Function:    new Function( ‘参数’,…,’函数体’ );</li>
</ol>
<p><strong>单独独立</strong>调用的,就是函数调用模式，即 <strong>函数名( 参数 )</strong>，不能加任何其他的东西， 对象 o.fuc（） 就不是了。</p>
<p>在函数调用模式中， <strong>this 表示全局对象 window</strong></p>
<p>任何自调用函数都是函数模式。</p>
<hr>
<h2 id="2-方法调用-模式-method"><a href="#2-方法调用-模式-method" class="headerlink" title="2. 方法调用 模式 method"></a>2. 方法调用 模式 method</h2><p>所谓方法调用，就是用对象的方法调用。方法是什么，方法本身就是函数，但是，方法<strong>不是单独独立</strong>的，而是要<strong>通过一个对象引导</strong>来调用。</p>
<p>就是说<strong>方法对象一定要有宿主对象</strong>。</p>
<p>即 <strong>对象.方法（参数）</strong></p>
<p>this表示引导方法的对象，就是指宿主对象</p>
<p>对比-函数调用模式：</p>
<ol>
<li>方法调用模式是不是独立的，需要宿主，而函数调用模式是独立的</li>
<li>方法调用模式方式：obj.fuc();  函数调用模式方式: fuc();</li>
<li>方法调用模式中，this指宿主。而函数调用模式中 this 指 全局对象window</li>
</ol>
<h3 id="美团的一道面试题"><a href="#美团的一道面试题" class="headerlink" title="美团的一道面试题"></a>美团的一道面试题</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> length = <span class="number">10</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log( <span class="keyword">this</span>.length );</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">	length: <span class="number">5</span>,</span><br><span class="line">	method: <span class="function"><span class="keyword">function</span> (<span class="params"> fn </span>) </span>&#123;</span><br><span class="line">		fn();	<span class="comment">// 10 前面没有引导对象，是函数调用模式</span></span><br><span class="line">		<span class="built_in">arguments</span>[ <span class="number">0</span> ](); <span class="comment">// 2</span></span><br><span class="line">           <span class="comment">// arguments是一个伪数组对象, 这里调用相当于通过数组的索引来调用.</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line">obj.method( fn, <span class="number">1</span> );	<span class="comment">// 打印 10 和 2</span></span><br><span class="line">   <span class="comment">//obj.method( fn, 1， 2， 3 );	// 打印 10 和 4</span></span><br></pre></td></tr></table></figure>
<p>解析：</p>
<ol>
<li><p>fn() 前面没有引导对象，是函数调用模式, this是全局对象,输出 10</p>
</li>
<li><p>arguments[ 0 ]()，arguments是一个伪数组对象, 这里调用相当于通过数组的索引来调用.</p>
<p> 这里引导对象即宿主就是 arguments对象。</p>
<p> 所以，执行时，this 就是指 arguments,由于传了两个参数，所以 输出为 arguments.length 就是 2</p>
</li>
</ol>
<hr>
<h2 id="3-构造器模式-构造函数模式-构造方法模式"><a href="#3-构造器模式-构造函数模式-构造方法模式" class="headerlink" title="3. 构造器模式(构造函数模式, 构造方法模式)"></a>3. 构造器模式(构造函数模式, 构造方法模式)</h2><p>constructor</p>
<ol>
<li><p>特点： <strong>使用 new 关键字引导</strong></p>
</li>
<li><p>执行步骤：var p = new Person();</p>
<p> new 是一个运算符, 专门用来申请创建对象, 创建出来的对象传递给构造函数的 this。然后利用构造函数对其初始化。</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 执行完 new 进入构造函数时， p 对象的原型 就指向了 构造函数 Person</span></span><br><span class="line">    <span class="comment">// 而 this 指的的是 p 对象</span></span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">'jim'</span>,</span><br><span class="line">    <span class="keyword">this</span>.age = <span class="number">19</span>;</span><br><span class="line">    <span class="keyword">this</span>.gender = <span class="string">'male'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person();</span><br></pre></td></tr></table></figure>
<p> 执行完 new 进入构造函数时， p 对象的原型 就指向了 构造函数 Person</p>
<p> 而 构造时，this 指的的是 p 对象，是通过对象动态添加属性来构造的</p>
<p> 小贴士：如果调用构造函数的时候, 构造函数没有参数, 圆括号是可以省略的。</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      	<span class="keyword">this</span>.name = <span class="string">'jim'</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> p = <span class="keyword">new</span> Person;	<span class="comment">// 不传参，可以简写，不影响构造</span></span><br><span class="line">      <span class="built_in">console</span>.log( p );	<span class="comment">// p 含有 name属性</span></span><br></pre></td></tr></table></figure>
<p> ↑ 不传参，可以简写，不影响构造</p>
</li>
<li><p>返回值</p>
<ol>
<li><p>不写 return 语句, 那么 构造函数 默认返回 this</p>
</li>
<li><p>在构造函数 return 基本类型( return num, return 1223 ). 则忽略返回类型.</p>
</li>
<li><p>在构造函数 return 引用类型, 那么构造函数返回该引用类型数据, 而忽略 this</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">'Jepson'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">123</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log( p1 );</span><br></pre></td></tr></table></figure>
<p>↑ 忽略了 123，返回 this 对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">'Jepson'</span>;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="string">'peter'</span>: <span class="string">'nihao'</span> &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log( p1 );</span><br></pre></td></tr></table></figure>
<p>↑ 忽略了 this，返回 { ‘peter’: ‘nihao’ } 对象</p>
</li>
</ol>
</li>
</ol>
<h3 id="构造函数结合性"><a href="#构造函数结合性" class="headerlink" title="构造函数结合性"></a>构造函数结合性</h3><ol>
<li><p>如果构造函数没有参数, 可以省略 圆括号</p>
<p> var p = new Person;</p>
</li>
<li><p>如果希望创建对象并直接调用其方法</p>
<p> ( new Person () ).sayHello()</p>
<p> -&gt; 可以省略调整结核性的圆括号 new Person().sayHello()</p>
<p> -&gt; <strong>如果想要省略构造函数的圆括号, 就必须添加结核性的圆括号 (new Person).sayHello()</strong></p>
</li>
</ol>
<h3 id="面试题"><a href="#面试题" class="headerlink" title="面试题"></a>面试题</h3><p>一道面试题，大家可以自己尝试先做一下，再看下面的答案和解析</p>
<p><strong>请问顺序执行下面代码，会怎样 alert</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; alert(<span class="number">1</span>); &#125;;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">Foo.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; alert(<span class="number">2</span>); &#125;;</span><br><span class="line">Foo.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; alert(<span class="number">3</span>); &#125;;</span><br><span class="line"><span class="keyword">var</span> getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; alert(<span class="number">4</span>); &#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params"></span>)</span>&#123; alert(<span class="number">5</span>); &#125;</span><br><span class="line"></span><br><span class="line">Foo.getName();	<span class="comment">// alert ??</span></span><br><span class="line">getName();	<span class="comment">// alert ??</span></span><br><span class="line">Foo().getName(); <span class="comment">// alert ??</span></span><br><span class="line">getName(); <span class="comment">// alert ??</span></span><br><span class="line"><span class="keyword">new</span> Foo.getName(); <span class="comment">// alert ??</span></span><br><span class="line"><span class="keyword">new</span> Foo().getName(); <span class="comment">// alert ??</span></span><br><span class="line"><span class="keyword">new</span> <span class="keyword">new</span> Foo().getName(); <span class="comment">// alert ??</span></span><br></pre></td></tr></table></figure>
<p><strong>预解析，简化后的代码，以及答案</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* function getName()&#123; alert(5); &#125; 执行到下面被覆盖了，直接删除 */</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">       getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; alert(<span class="number">1</span>); &#125;;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   Foo.getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; alert(<span class="number">2</span>); &#125;;</span><br><span class="line">   Foo.prototype.getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; alert(<span class="number">3</span>); &#125;;</span><br><span class="line">   <span class="keyword">var</span> getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; alert(<span class="number">4</span>); &#125;;</span><br><span class="line"></span><br><span class="line">   Foo.getName();  <span class="comment">// ------- 输出 2 -------</span></span><br><span class="line">   getName();      <span class="comment">// ------- 输出 4 -------</span></span><br><span class="line">   Foo().getName();    <span class="comment">// ------- 输出 1 -------</span></span><br><span class="line">   getName();  <span class="comment">// ------- 输出 1 -------</span></span><br><span class="line">   <span class="keyword">new</span> Foo.getName();     <span class="comment">// ------- 输出 2 -------</span></span><br><span class="line">   <span class="keyword">new</span> Foo().getName();    <span class="comment">// ------- 输出 3 -------</span></span><br><span class="line">   <span class="keyword">var</span> p = <span class="keyword">new</span> <span class="keyword">new</span> Foo().getName();     <span class="comment">// ------- 输出 3 -------</span></span><br></pre></td></tr></table></figure></p>
<p><strong>全部解析过程 ↓</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">       getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; alert(<span class="number">1</span>); &#125;;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   Foo.getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; alert(<span class="number">2</span>); &#125;;</span><br><span class="line">   Foo.prototype.getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; alert(<span class="number">3</span>); &#125;;</span><br><span class="line"><span class="keyword">var</span> getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; alert(<span class="number">4</span>); &#125;;</span><br><span class="line"></span><br><span class="line">   Foo.getName();  <span class="comment">// ------- 输出 2 -------</span></span><br><span class="line">   <span class="comment">// 调用 Foo函数 作为 对象 动态添加的属性方法 getName</span></span><br><span class="line">   <span class="comment">// Foo.getName = function () &#123; alert(2); &#125;;</span></span><br><span class="line"></span><br><span class="line">   getName();      <span class="comment">// ------- 输出 4 -------</span></span><br><span class="line">   <span class="comment">// 这里 Foo函数 还没有执行，getName还没有被覆盖</span></span><br><span class="line">   <span class="comment">// 所以 这里还是 最上面的 getName = function () &#123; alert(4); &#125;;</span></span><br><span class="line"></span><br><span class="line">   Foo().getName();    <span class="comment">// ------- 输出 1 -------</span></span><br><span class="line">   <span class="comment">// Foo()执行，先覆盖全局的 getName 再返回 this，</span></span><br><span class="line">   <span class="comment">// this 是 window, Foo().getName() 就是调用 window.getName</span></span><br><span class="line">   <span class="comment">// 此时 全局的 getName已被覆盖成 function () &#123; alert(1); &#125;;</span></span><br><span class="line">   <span class="comment">// 所以 输出 1</span></span><br><span class="line">   <span class="comment">/* 从这里开始 window.getName 已被覆盖 alert 1 */</span></span><br><span class="line"></span><br><span class="line">   getName();  <span class="comment">// ------- 输出 1 -------</span></span><br><span class="line">   <span class="comment">// window.getName alert(1);</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">new</span> Foo.getName();     <span class="comment">// ------- 输出 2 -------</span></span><br><span class="line">   <span class="comment">// new 就是 找 构造函数()，由构造函数结合性，这里即使 Foo无参，也不能省略 (),所以不是 Foo().getName()</span></span><br><span class="line">   <span class="comment">// 所以 Foo.getName 为一个整体，等价于 new (Foo.getName)();</span></span><br><span class="line">   <span class="comment">// 而 Foo.getName 其实就是函数 function () &#123; alert(2); &#125; 的引用</span></span><br><span class="line">   <span class="comment">// 那 new ( Foo.getName )(), 就是在以 Foo.getName 为构造函数 实例化对象。</span></span><br><span class="line">   <span class="comment">// 就 类似于 new Person(); Person 是一个构造函数</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 总结来看 new ( Foo.getName )(); 就是在以 function () &#123; alert(2); &#125; 为构造函数来构造对象</span></span><br><span class="line">   <span class="comment">// 构造过程中 alert（ 2 ），输出 2</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">new</span> Foo().getName();    <span class="comment">// ------- 输出 3 -------</span></span><br><span class="line">   <span class="comment">// new 就是 找 构造函数(),等价于 ( new Foo() ).getName();</span></span><br><span class="line">   <span class="comment">// 执行 new Foo() =&gt; 以 Foo 为构造函数，实例化一个对象</span></span><br><span class="line">   <span class="comment">// ( new Foo() ).getName; 访问这个实例化对象的 getName 属性</span></span><br><span class="line">   <span class="comment">// 实例对象自己并没有 getName 属性，构造的时候也没有 添加，找不到，就到原型中找</span></span><br><span class="line">   <span class="comment">// 发现 Foo.prototype.getName = function () &#123; alert(3); &#125;;</span></span><br><span class="line">   <span class="comment">// 原型中有，找到了，所以 ( new Foo() ).getName(); 执行，alert（3）</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> p = <span class="keyword">new</span> <span class="keyword">new</span> Foo().getName();     <span class="comment">// ------- 输出 3 -------</span></span><br><span class="line">   <span class="comment">// new 就是 找 构造函数(),等价于 new ( ( new Foo() ).getName )() 输出 3</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 先看里面的 ( new Foo() ).getName</span></span><br><span class="line">   <span class="comment">// new Foo() 以Foo为构造函数，实例化对象</span></span><br><span class="line">   <span class="comment">// new Foo().getName 找 实例对象的 getName属性，自己没有，去原型中找，</span></span><br><span class="line">   <span class="comment">// 发现 Foo.prototype.getName = function () &#123; alert(3); &#125;; 找到了</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 所以里层 ( new Foo() ).getName 就是 以Foo为构造函数实例出的对象的 一个原型属性</span></span><br><span class="line">   <span class="comment">// 属性值为一个函数 function () &#123; alert(3); &#125; 的引用</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 所以外层 new ( (new Foo()).getName )()在以该函数 function () &#123; alert(3); &#125; 为构造函数，构造实例</span></span><br><span class="line">   <span class="comment">// 构造过程中 执行了 alert(3)， 输出 3</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="4-上下文调用模式"><a href="#4-上下文调用模式" class="headerlink" title="4. 上下文调用模式"></a>4. 上下文调用模式</h2><p>就是 环境调用模式 =&gt; 在不同环境下的不同调用模式</p>
<p>简单说就是统一一种格式, 可以实现 函数模式与方法模式</p>
<p>-&gt; 语法(区分)</p>
<ol>
<li>call 形式， 函数名.call( … )</li>
<li>apply 形式， 函数名.apply( … )</li>
</ol>
<p><strong>这两种形式功能完全一样, 唯一不同的是参数的形式. 先学习 apply, 再来看 call 形式</strong></p>
<h3 id="apply方法的调用形式"><a href="#apply方法的调用形式" class="headerlink" title="apply方法的调用形式"></a>apply方法的调用形式</h3><p><strong>存在上下文调用的目的就是为了实现方法借用，且不会污染对象。</strong></p>
<ul>
<li><p>如果需要让函数以函数的形式调用, 可以使用</p>
<p>  foo.apply( null ); // 上下文为 window</p>
</li>
<li><p>如果希望他是方法调用模式, 注意需要提供一个宿主对象</p>
<p>  foo.apply( obj );    //  上下文 为 传的 obj 对象</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="keyword">this</span> );</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> o = &#123; <span class="attr">name</span>: <span class="string">'jim'</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果需要让函数以函数的形式调用, 可以使用</span></span><br><span class="line">foo.apply( <span class="literal">null</span> ); <span class="comment">//  this =&gt; window  // 或 foo.apply()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果希望他是方法调用模式, 注意需要提供一个宿主对象</span></span><br><span class="line">foo.apply( o )	<span class="comment">// this =&gt; o 对象</span></span><br></pre></td></tr></table></figure>
<p>###带有参数的函数如何实现上下文调用？</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> (<span class="params"> num1, num2 </span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="keyword">this</span> );</span><br><span class="line">    <span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数调用模式</span></span><br><span class="line"><span class="keyword">var</span> res1 = foo( <span class="number">123</span>, <span class="number">567</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法调用</span></span><br><span class="line"><span class="keyword">var</span> o = &#123; <span class="attr">name</span>: <span class="string">'jim'</span> &#125;;</span><br><span class="line">o.func = foo;</span><br><span class="line"><span class="keyword">var</span> res2 = o.func( <span class="number">123</span>, <span class="number">567</span> );</span><br></pre></td></tr></table></figure>
<p>使用 apply 进行调用, 如果函数是带有参数的. apply 的第一个参数要么是 null 要么是对象</p>
<ol>
<li><p>如果是 null 就是函数调用</p>
</li>
<li><p>如果是 对象就是 方法调用, 该对象就是宿主对象, 后面紧跟一个数组参数, 将函数所有的参数依次放在数组中.</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">例如: 函数模式 		foo( <span class="number">123</span>, <span class="number">567</span> );</span><br><span class="line">      apply    		foo.apply( <span class="literal">null</span>, [ <span class="number">123</span>, <span class="number">567</span> ] ) 以 <span class="built_in">window</span> 为上下文执行 apply</span><br><span class="line"></span><br><span class="line">如果有一个函数调用: 	 func( <span class="string">'张三'</span>, <span class="number">19</span>, <span class="string">'男'</span> ),</span><br><span class="line">将其修改成 apply 模式：  func.apply( <span class="literal">null</span>, [ <span class="string">'张三'</span>, <span class="number">19</span>, <span class="string">'男'</span>] )</span><br><span class="line"></span><br><span class="line">方法模式:			o.func( <span class="number">123</span>, <span class="number">567</span> )</span><br><span class="line">apply				<span class="keyword">var</span> o = &#123; <span class="attr">name</span>: <span class="string">'jim'</span> &#125;;</span><br><span class="line">					foo.apply( o, [ <span class="number">123</span>, <span class="number">567</span> ] ); 以 o 为上下文执行 apply</span><br></pre></td></tr></table></figure>
<h3 id="方法借用的案例"><a href="#方法借用的案例" class="headerlink" title="方法借用的案例"></a>方法借用的案例</h3><p><strong>需求, 获得 div 与 p 标签, 并添加边框 border: 1px solid red</strong></p>
<p>一般做法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p_list = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'p'</span>);</span><br><span class="line"><span class="keyword">var</span> div_list = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'div'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>( ; i &lt; p_list.length; i++ ) &#123;</span><br><span class="line">    p_list[ i ].style.border = <span class="string">"1px solid red"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span>; i &lt; div_list.length; i++ ) &#123;</span><br><span class="line">    div_list[ i ].style.border = <span class="string">"1px solid red"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li><p>利用方法借用优化，元素获取</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> t = <span class="built_in">document</span>.getElementsByTagName;</span><br><span class="line"><span class="keyword">var</span> p_list = t.apply( <span class="built_in">document</span>, [ <span class="string">'p'</span> ] );	<span class="comment">// 方法借用</span></span><br><span class="line"><span class="keyword">var</span> div_list = t.apply( <span class="built_in">document</span>, [ <span class="string">'div'</span> ] ); <span class="comment">// 方法借用</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>接下来考虑下面的优化，两个for循环，只要将数组合并了，就可以只用一个 for 循环</strong></p>
<p> 数组合并</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ];</span><br><span class="line"><span class="keyword">var</span> arr2 = [ <span class="number">5</span>, <span class="number">6</span> ];</span><br><span class="line">arr1.push.apply( arr1, arr2 );	<span class="comment">// 方法调用，第一个给上对象</span></span><br><span class="line"><span class="comment">// 等价于 Array.prototype.push.apply( arr1, arr2 );</span></span><br></pre></td></tr></table></figure>
<p> 所以同理,利用 apply 方法借用，将两个伪数组合并成同一个数组</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [];	<span class="comment">// 伪数组没有 push 方法，所以这里要 声明一个 数组</span></span><br><span class="line">arr.push.apply( arr, p_list );	<span class="comment">// 将 p_list里的内容，一个个当成参数放了进来，相当于不用遍历了</span></span><br><span class="line">arr.push.apply( arr, div_list ); <span class="comment">// 同上，方法借用</span></span><br><span class="line"><span class="built_in">console</span>.log( arr );</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><strong>将两者综合, 使用forEach，最终 6 行就解决了</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> t = <span class="built_in">document</span>.getElementsByTagName, arr = [];</span><br><span class="line">arr.push.apply( arr, t.apply( <span class="built_in">document</span>, [ <span class="string">'p'</span> ] ) );</span><br><span class="line">arr.push.apply( arr, t.apply( <span class="built_in">document</span>, [ <span class="string">'div'</span>] ) );</span><br><span class="line">arr.forEach( <span class="function"><span class="keyword">function</span>(<span class="params"> val, index, arr </span>) </span>&#123;</span><br><span class="line">    val.style.border = <span class="string">'1px solid red'</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<h3 id="call-调用"><a href="#call-调用" class="headerlink" title="call 调用"></a>call 调用</h3><p>在使用 apply 调用的时候, 函数参数, 必须以数组的形式存在. 但是有些时候数组封装比较复杂</p>
<p>所以引入 call 调用, call 调用与 apply 完全相同, 唯一不同是 参数不需要使用数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">foo( <span class="number">123</span>, <span class="number">567</span> );</span><br><span class="line"></span><br><span class="line">foo.apply( <span class="literal">null</span>, [ <span class="number">123</span>, <span class="number">567</span> ] );</span><br><span class="line"></span><br><span class="line">foo.call( <span class="literal">null</span>, <span class="number">123</span>, <span class="number">567</span> );</span><br></pre></td></tr></table></figure>
<ol>
<li><p>函数调用： 函数名.call( null, 参数1，参数2，参数3… );</p>
</li>
<li><p>方法调用： 函数名.call( obj, 参数1，参数2， 参数3… );</p>
</li>
</ol>
<p>不传参时，apply 和 call 完全一样</p>
<h3 id="借用构造方法实现继承"><a href="#借用构造方法实现继承" class="headerlink" title="借用构造方法实现继承"></a>借用构造方法实现继承</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params"> name, age, gender </span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.name = name;</span><br><span class="line">	<span class="keyword">this</span>.age = age;</span><br><span class="line">	<span class="keyword">this</span>.gender = gender;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span> (<span class="params"> name, age, gender, course </span>) </span>&#123;</span><br><span class="line">	<span class="comment">// 原型链结构不会变化，同时实现了继承的效果</span></span><br><span class="line">	Person.call( <span class="keyword">this</span>, name, age, gender );<span class="comment">// 借用Person构造方法</span></span><br><span class="line">	<span class="keyword">this</span>.course = course;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Student ( <span class="string">'jim'</span>, <span class="number">19</span>, <span class="string">'male'</span>, <span class="string">'前端'</span> );</span><br><span class="line">   <span class="built_in">console</span>.log( p );</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="补充知识-1-函数的-bind-方法-（-ES5-）"><a href="#补充知识-1-函数的-bind-方法-（-ES5-）" class="headerlink" title="补充知识 1. 函数的 bind 方法 （ ES5 ）"></a>补充知识 1. 函数的 bind 方法 （ ES5 ）</h2><p>bind 就是 绑定</p>
<p>还是上面那个案例 <strong>获得 div 与 p 标签, 并添加边框 border: 1px solid red</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> t = <span class="built_in">document</span>.getElementsByTagName, arr = [];</span><br><span class="line">arr.push.apply( arr, t.call( <span class="built_in">document</span>, <span class="string">'p'</span>  ) );</span><br><span class="line">arr.push.apply( arr, t.call( <span class="built_in">document</span>, <span class="string">'div'</span> ) );</span><br><span class="line">arr.forEach( <span class="function"><span class="keyword">function</span>(<span class="params"> val, index, arr </span>) </span>&#123;</span><br><span class="line">    val.style.border = <span class="string">'1px solid red'</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>我们 让 t 包含函数体（上面的方式），同时包含 对象，就可以更精简</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> t = <span class="built_in">document</span>.getElementsByTagName.bind( <span class="built_in">document</span> ), arr = [];</span><br><span class="line">arr.push.apply( arr, t(<span class="string">'p'</span>) );</span><br><span class="line">arr.push.apply( arr, t(<span class="string">'div'</span>) );</span><br><span class="line">arr.forEach( <span class="function"><span class="keyword">function</span>(<span class="params"> val, index, arr </span>) </span>&#123;</span><br><span class="line">    val.style.border = <span class="string">'1px solid red'</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>bind : 就是让函数绑定对象的一种用法</p>
<p>函数本身就是可以调用, 但是其如果想要<strong>作为方法调用, 就必须传入宿主对象</strong>, 并且使用 call 或 apply 形式</p>
<p>但是 <strong>bind 使得我的函数可以与某一个对象绑定起来, 那么在调用函数的时候, 就好像是该对象在调用方法，就可以直接传参，而不需要传宿主对象。</strong></p>
<p><strong>语法： 函数.bind( 对象 ) </strong></p>
<p>返回一个函数 foo，那么调用 返回的函数 foo, 就好像 绑定的对象在调用 该方法一样</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">t.call( <span class="built_in">document</span>, <span class="string">'p'</span> );</span><br><span class="line"></span><br><span class="line">t( <span class="string">'p'</span> ); 绑定后，就不用传宿主对象了，这里调用时上下文已经变成了 <span class="built_in">document</span></span><br><span class="line"></span><br><span class="line">bind 是 ES <span class="number">5</span> 给出的函数调用方法</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="补充知识-2-Object-prototype-的成员"><a href="#补充知识-2-Object-prototype-的成员" class="headerlink" title="补充知识 2. Object.prototype 的成员"></a>补充知识 2. Object.prototype 的成员</h2><p>Object.prototype 的成员</p>
<ol>
<li>constructor</li>
<li>hasOwnProperty 判断该属性是否为自己提供</li>
<li>propertyIsEnumerable 判断属性是否可以枚举</li>
<li>isPrototypeOf    判断是否为原型对象</li>
<li>toString, toLocaleString, valueOf</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">'jim'</span>;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.age = <span class="number">19</span>;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log( p.hasOwnProperty( <span class="string">'name'</span> ) );  <span class="comment">// true; p 是否含有 name 属性，原型上不管</span></span><br><span class="line"><span class="built_in">console</span>.log( p.hasOwnProperty( <span class="string">'age'</span> ) ); <span class="comment">// false;  p 是否含有 age 属性</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Person.prototype 是 p 的原型 */</span></span><br><span class="line"><span class="built_in">console</span>.log( p.isPrototypeOf( Person.prototype ) ); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log( Person.prototype.isPrototypeOf( p ) );  <span class="comment">// true;</span></span><br></pre></td></tr></table></figure>
<p>用途：一般把一个对象拷贝到另一个对象时，可以进行判断，更加严谨，以防把原型中的属性也拷贝过去了…</p>
<hr>
<h2 id="补充知识-3-包装类型"><a href="#补充知识-3-包装类型" class="headerlink" title="补充知识 3. 包装类型"></a>补充知识 3. 包装类型</h2><p>字符串 string 是基本类型, <strong>理论上讲不应该包含方法</strong></p>
<p>那么 charAt, substr, slice, …等等方法，理论上都不应该有，<strong>但确是有的</strong></p>
<p>所以<strong>引入包装对象</strong>的概念，在 js 中为了更好的使用数据, 为三个基本类型提供了对应的对象类型</p>
<ol>
<li>Number</li>
<li>String</li>
<li>Boolean</li>
</ol>
<p>在 开发中常常会使用基本数据类型, 但是基本数据类型没有方法, 因此 js 引擎会在需要的时候<strong>自动</strong>的将<strong>基本类型转换成对象类型</strong>, 就是包装对象</p>
<ul>
<li><p>“abc”.charAt( 1 )</p>
</li>
<li><p>“abc” -&gt; s = new String( “abc” )</p>
</li>
<li><p>s.charAt( 1 ) 返回结果以后 s 就被销毁</p>
</li>
</ul>
<p>当基本类型.方法 的时候. 解释器首先将基本类型转换成对应的对象类型, 然后调用方法.</p>
<p>方法执行结束后, 这个对象就被立刻回收</p>
<p>在 apply 和 call 调用的时候, 也会有转换发生. <strong>上下文调用的第一个参数必须是对象</strong>. <strong>如果传递的是数字就会自动转换成对应的包装类型</strong></p>
<hr>
<h2 id="补充知识-4-getter-和-setter-的语法糖-ES5"><a href="#补充知识-4-getter-和-setter-的语法糖-ES5" class="headerlink" title="补充知识 4. getter 和 setter 的语法糖 ( ES5 )"></a>补充知识 4. getter 和 setter 的语法糖 ( ES5 )</h2><p><strong>语法糖: 为了方便开发而给出的语法结构</strong></p>
<p><strong>本身实现：</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> num = <span class="number">123</span>;</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		get_num: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> num;</span><br><span class="line">		&#125;,</span><br><span class="line">		set_num: <span class="function"><span class="keyword">function</span> (<span class="params"> v </span>) </span>&#123;</span><br><span class="line">			num = v;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">希望获得数据  以对象的形式</span><br><span class="line">o.get_num();			=&gt; o.num 形式</span><br><span class="line"></span><br><span class="line">希望设置数据  以对象的形式</span><br><span class="line">o.set_num( <span class="number">456</span> );		=&gt; o.num = <span class="number">456</span> 形式</span><br></pre></td></tr></table></figure>
<p><strong>所以 getter 和 setter 诞生 了</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">123</span>;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="comment">// get 名字 () &#123; 逻辑体 &#125;</span></span><br><span class="line">        get num () &#123;</span><br><span class="line">            <span class="built_in">console</span>.log( <span class="string">'执行 getter 读写器了'</span> );</span><br><span class="line">            <span class="keyword">return</span> num;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// set 名字 ( v ) &#123; 逻辑体 &#125;</span></span><br><span class="line">        set num ( v ) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log( <span class="string">'执行 setter 读写器了'</span> );</span><br><span class="line">            num = v;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( o.num );	<span class="comment">// 执行 getter 读写器了	123</span></span><br><span class="line">o.num = <span class="number">33</span>;	<span class="comment">// 执行 setter 读写器了</span></span><br><span class="line"><span class="built_in">console</span>.log( o.num ); <span class="comment">// 执行 getter 读写器了	33</span></span><br></pre></td></tr></table></figure>
<p>为什么不直接用 对象呢 var o = { num : 123 } ，也可以读写呀?</p>
<p>因为语法糖还可以 <strong>限制其赋值的范围</strong>，使用起来特别爽</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">var</span> o = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> num = <span class="number">13</span>;</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// get 名字 () &#123; 逻辑体 &#125;</span></span><br><span class="line">		get num () &#123;</span><br><span class="line">			<span class="built_in">console</span>.log( <span class="string">'执行 getter 读写器了'</span> );</span><br><span class="line">			<span class="keyword">return</span> num;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		<span class="comment">// set 名字 ( v ) &#123; 逻辑体 &#125;</span></span><br><span class="line">		set num ( v ) &#123;</span><br><span class="line">			<span class="built_in">console</span>.log( <span class="string">'执行 setter 读写器了'</span> );</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> ( v &lt; <span class="number">0</span> || v &gt; <span class="number">150</span> ) &#123;</span><br><span class="line">				<span class="built_in">console</span>.log( <span class="string">'赋值超出范围, 不成功 '</span> );</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			num = v;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;)();</span><br><span class="line">   o.num = <span class="number">-1</span>;			<span class="comment">// 执行 setter 读写器了</span></span><br><span class="line">				<span class="comment">// 读写器赋值超出范围, 不成功</span></span><br></pre></td></tr></table></figure>
<h2 id="补充知识-5-ES5-中引入的部分数组方法"><a href="#补充知识-5-ES5-中引入的部分数组方法" class="headerlink" title="补充知识 5. ES5 中引入的部分数组方法"></a>补充知识 5. ES5 中引入的部分数组方法</h2><ol>
<li>forEach</li>
<li>map</li>
<li>filter</li>
<li>some</li>
<li>every</li>
<li>indexOf</li>
<li>lastIndexOf</li>
</ol>
<ol>
<li><p>forEach, 数组遍历调用，遍历arr，参数三个 arr[index] 某项, index 索引， arr 整个数组</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [ <span class="string">'hello'</span>, <span class="string">' js'</span>, &#123;  &#125;, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125; ];</span><br><span class="line"><span class="comment">// 遍历 数组</span></span><br><span class="line">arr.forEach( <span class="function"><span class="keyword">function</span> (<span class="params"> v, i, ary </span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log( i + <span class="string">'====='</span> + v );</span><br><span class="line">   <span class="built_in">console</span>.log( ary );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>map 映射</p>
<p> 语法: 数组.map( fn )</p>
<p> 返回一个数组, 数组的每一个元素就是 map 函数中的 fn 的返回值</p>
<p> 就是对每一项都进行操作，并返回</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> ];</span><br><span class="line">      <span class="comment">// 数学中: x -&gt; x * x</span></span><br><span class="line">      <span class="keyword">var</span> a = arr.map(<span class="function"><span class="keyword">function</span> (<span class="params"> v, i </span>) </span>&#123;</span><br><span class="line">         <span class="keyword">return</span> v * v;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// a [1, 4, 9, 16]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>filter 就是筛选, 函数执行结果是 false 就弃掉， true 就收着</p>
<p> 语法:     数组.filter( function ( v, i ) { return true/false })</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span> ];</span><br><span class="line">   <span class="comment">// 筛选奇数</span></span><br><span class="line">   <span class="keyword">var</span> a = arr.filter( <span class="function"><span class="keyword">function</span> (<span class="params"> v </span>) </span>&#123; <span class="keyword">return</span> v % <span class="number">2</span> === <span class="number">1</span>; &#125;);</span><br><span class="line">   <span class="comment">// a [ 1, 3, 5 ]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>some 判断数组中至少有一个数据复合要求 就返回 true, 否则返回 false</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [ <span class="string">'123'</span>, &#123;&#125;, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;, <span class="number">123</span> ];</span><br><span class="line">      <span class="comment">// 判断数组中至少有一个数字</span></span><br><span class="line">      <span class="keyword">var</span> isTrue = arr.some( <span class="function"><span class="keyword">function</span> (<span class="params"> v </span>) </span>&#123; <span class="keyword">return</span> <span class="keyword">typeof</span> v === <span class="string">'number'</span>; &#125; );	<span class="comment">// true;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>every 必须满足所有元素都复合要求才会返回 true</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="string">'6'</span> ];</span><br><span class="line">      <span class="comment">// 判断数组中每一个都是数字</span></span><br><span class="line">      <span class="keyword">var</span> isTrue = arr.every( <span class="function"><span class="keyword">function</span> (<span class="params"> v </span>) </span>&#123; <span class="keyword">return</span> <span class="keyword">typeof</span> v === <span class="string">'number'</span>; &#125; ); &#125; ); <span class="comment">// false;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>indexOf 在数组中查找元素, 如果含有该元素, 返回元素的需要( 索引 ), 否则返回 -1</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> ];</span><br><span class="line"><span class="keyword">var</span> res = arr.indexOf( <span class="number">4</span> );	<span class="comment">// 要找 4</span></span><br><span class="line"><span class="built_in">console</span>.log( res );	<span class="comment">// 3     找 4 在 索引为 3 找到</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span> ];</span><br><span class="line"><span class="keyword">var</span> res = arr.indexOf( <span class="number">4</span>, <span class="number">4</span> );	<span class="comment">// 要找 4， 从索引 4开始找</span></span><br><span class="line"><span class="built_in">console</span>.log( res );	<span class="comment">// 找到了 索引为 5</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>lastIndexOf 从右往左找</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span> ];</span><br><span class="line"><span class="keyword">var</span> res = arr.lastIndexOf( <span class="number">4</span> );</span><br><span class="line"><span class="built_in">console</span>.log( res );	<span class="comment">// 索引为 5， 从最后一项开始找，即从 length-1 项开始找</span></span><br></pre></td></tr></table></figure>
</li>
</ol>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2018/05/08/lazyLoad/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="ziying's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        ziyingjie123@163.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2018/05/">五月 2018<span class="sidebar_archives-count">5</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->
<!-- 
    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>
 -->

<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href=" " target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    
        <a href="www.bilibili.com" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-bilibili">
                <span class="visuallyhidden">Bilibili</span>
            </button><!--
     --></a>
    

    <!-- Telegram -->
    
        <a href=" " target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-telegram">
                <span class="visuallyhidden">Telegram</span>
            </button><!--
     --></a>
    
    
    <!-- V2EX -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>落花人独立
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>













<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.2 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
